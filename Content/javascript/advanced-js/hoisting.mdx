---
title: 'Поднятие(hoisting)'
id: 1
next: '/js/advanced-js/errors-try-catch'
category: 'advanced-js'
---

<div className = 'mdHead'>

#### Теги

<div className = 'tag_js'> [Что такое hoisting](#что-такое-hoisting) </div> <br/> 
<div className = 'tag_js'> [Как это происходит с функциями](#как-это-происходит-с-функциями) </div> <br/> 
<div className = 'tag_js'> [Как это происходит с переменными:](#как-это-происходит-с-переменными) </div> 
<div className = 'mini_tag_js'> [Переменные var:](#переменные-var) </div> 
<div className = 'mini_tag_js'> [пример 1,](#var-пример-1) </div> 
<div className = 'mini_tag_js'> [пример 2.](#var-пример-2) </div> <br/>
<div className = 'mini_tag_js'> [Переменные let:](#переменные-let) </div> 
<div className = 'mini_tag_js'> [пример 1,](#let-пример-1) </div> 
<div className = 'mini_tag_js'> [пример 2.](#let-пример-2) </div> <br/> 

</div>


## Что такое hoisting ##
Поднятие(hoisting) - Это некий механизм который относится только к объявлению функций и переменных.
Смысл этого механизма в том, что он помещает в память нашу функцию или переменную до ее объявления.
Выглядит это как будто бы наши объявления функций и переменных поднимаются на самый верх, но по сути объявления переменных и функций попадают в память в процессе компиляции.
После компиляции перед выполнением кода есть два шага, один из них "фаза создания" - в этот момент создается контекст в котором и находятся наши идентификаторы, переменные и так далее. Второй шаг уже само выполнение кода.
<span className = 'link_js'> [Здесь об этом подробнее](/js/under-the-hood-js/call-stack)</span>.

## Как это происходит с функциями ###
Мы знаем, что можем использовать обычную `declaration` функцию до ее объявления. Здесь как раз и участвует механизм `hoisting`, кажется, что объявление нашей функции поднялось на самый верх и поэтому мы смогли вызвать функцию до ее объвления, Так рабоатет контекст выполнения(тут будет ссылка) в javaScript.
```javaScript
// мы вызвали функцию здесь
console.log(gintama("Кагура")); // Мой любимый персонаж в гинтаме это Кагура

// а здесь мы функцию создали
function gintama(name) {
  console.log(`Мой любимый персонаж в гинтаме это ${name}`);
}
```
Это не работает с функциональными выражениями и с использованием стрелочных функций.

## Как это происходит с переменными ##
Здесь `hoisting` работает так же, 'поднимаются' только объявления переменных и инициализируется им по дефолту `undefined`.
### Переменные var ###
Пример с `var`
```javaScript
// Здесь уже существует переменная var name.
console.log(name); // Здесь будет undefined, оно подставилось автоматически.

var name = 'Dima' // присвоим нашу строку здесь

console.log(name); // Dima - здесь мы уже видим нашу строку

```
#### var пример 1 ####

```javaScript
var x = 1; // Инициализируем x
console.log(x + " " + y);  // '1 undefined'
var y = 2;
```
Тоже самое что и:
```javaScript
var x;
var y;
x = 1; 
console.log(x + " " + y);  // '1 undefined'
y = 2;
```
#### var пример 2 ####

Распространенный пример с функцией:
```javaScript
var a = 'Привет'; 

function b() {
    // вот здесь условие не сработает, но переменная var a будет в памяти.
    if(false) { 
        var a = 'Дима';
    } else {
        var b = 'Сашенька ювелир'; // это условие сработает
    }
    
    console.log(a); // undefined
    console.log(b); // Сашенька ювелир
}

b();
```
Код выше идентичен этому коду, Тут более понятно.
```javaScript
var a = 'Привет'; 

function b() {
    var a; // поэтому это и называется поднятие или всплытие
    var b; // наши переменные будто всплыли на самый верх
    if(false) { 
         a = 'Дима'; // Тут не сработает и поэтому переменная a будет undefined
    } else {
         b = 'Сашенька ювелир'; // а это условие сработает и в b присвоим нашу строку
    }
    
    console.log(a); // undefined
    console.log(b); // Сашенька ювелир
}

b();
```

### Переменные let ###
С переменной `let` все намного логичнее:

#### let пример 1 ####
```javaScript
let x = 1; 
console.log(x + " " + y);
let y = 2;
// будет ошибка
```
С переменной `let` нам нужно обязательно сначала ее объявить, а уже потом использовать.
```javaScript
let x;
console.log(x); // undefined

x = 1;
console.log(x); // 1
```

#### let пример 2 ####
Пример с функцией как и с `var`:
```javaScript
let a = 'Привет'; 

function b() {
    if(false) { 
        // let не может уйти за рамких фигурных скобок
        let a = 'Дима';  // ищет переменную в родительском области видимости это переменная a выше
    } else {
        let b = 'Сашенька ювелир'; // Так же ищет переменную выше, и находит нашу функцию b
    }
    
    console.log(a); // Привет
    console.log(b); //  здесь будет сама функция b
}

b();
```
Может показаться что перменные `let` не "всплывают", но это не так. Они "всплывают", но мы не можем получить к ним доступ.
Это все техническая часть и довольно сложная.<br/>

<div className = 'link_js'><a target={"_blank"}  href="https://262.ecma-international.org/7.0/#sec-let-and-const-declarations">Но если вдруг у вас хороший английский и мозги лучше моих, то наслаждайтесь</a></div>

